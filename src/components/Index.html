<div class="Index ui form">
  <div class="field">
    <label for="fieldArticle">
      Article
    </label>
    <textarea v-model="localConfig.fieldArticle"
              id="fieldArticle"></textarea>
  </div>
  
  <div v-for="(sentence, i) in sentenceList" class="ui grid"
       v-bind:id=" 'sentence'+i ">
    <div class="two wide column center aligned sentence-control-panel">
      <div>No. {{ (i+1) }}</div>
      
      <button type="button" 
            v-on:click="speak(sentence, i)" 
            class="ui button tiny icon"
            v-bind:class="{positive: (i === speakingIndex && speakingWordIndex === null && speakingDiffWordIndex === null)}">
        <i class="icon assistive listening systems" />
      </button>
      <button type="button" 
            v-on:click="practice(i)" 
            class="ui button tiny icon"
            v-bind:class="{orange: (i === practiceIndex)}">
        <i class="icon microphone" />
      </button>
    </div>
    <div class="fourteen wide column">
      <div class="target"
           v-bind:class="{isSpeaking: (i === speakingIndex && speakingWordIndex === null && speakingDiffWordIndex === null), isPracticing: (practiceIndex === i)}">
        <span v-for="(word, j) in sentence.split(' ')"
              class="word"
              v-bind:class="{isSpeaking: (i === speakingIndex && j === speakingWordIndex)}"
              v-on:click="speakWord(word, i, j)"
              v-on:dblclick="openDict(word)">
          {{ word }}
        </span>
      </div>
      <div class="practice"
           v-if="practiceList[i] && practiceList[i].length > 0">{{ practiceList[i] }}</div>
      <div class="diff"
           v-if="diffList[i] && diffList[i].length > 0">
        <span v-for="(diff, j) in diffList[i]"
          v-bind:class="{removed: diff.removed, added: diff.added}">
          <span v-for="(word, k) in diff.value.split(' ')"
              class="word"
              v-bind:class="{isSpeaking: (i === speakingIndex && (j + '-' + k) === speakingDiffWordIndex)}"
              v-on:click="speakDiffWord(word, i, (j + '-' + k))"
              v-on:dblclick="openDict(word)">
            {{ word }}
          </span>
        </span>
      </div>
    </div>
  </div>
  
  
  <div class="ui bottom fixed menu">
    <a class="item">
      <input type="checkbox" v-model="localConfig.repeatPractice"
             id="repeatPractice" />
      <label for="repeatPractice">
        Repeat Practice
      </label>
    </a>
    <a class="item">
      Rate {{ localConfig.rate }}
      
      <input type="range" min="0.5" max="1.5" 
             v-model="localConfig.rate" 
             class="slider"
             step="0.1">
    </a>
    <a class="item">
      Pitch {{ localConfig.pitch }}
      
      <input type="range" min="0.5" max="1.5" 
             v-model="localConfig.pitch" 
             class="slider"
             step="0.1">
    </a>
    <a class="item"
       v-if="voice">
      <select v-model="localConfig.voiceName">
        <option v-for="name in voiceNameList"
                v-bind:value="name">
          {{ name }}
        </option>
      </select>
    </a>
  </div>
</div>